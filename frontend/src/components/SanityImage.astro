---
import type { CollectionEntry } from 'astro:content'
import { getSanityImage } from '../utils/getSanityImage'

interface Props {
  node : CollectionEntry<"products">['data']['imageWithAlt']
  width?: number
}

const {node, width =960} = Astro.props

let image = getSanityImage({node, width})
---

<style>
.cover {
  object-fit: cover;
}

.contain {
  object-fit: contain;
}

.ar-1-1 {
 aspect-ratio: 1/1;
}

.ar-4-3 {
 aspect-ratio: 4/3;
}

.ar-16-9 {
 aspect-ratio: 16/9;
}

.ar-9-16 {
 aspect-ratio: 9/16;
}

</style>

{image && <img  class="fade-in cover ar-1-1" loading="lazy" src={image.url()} alt={node.alt || ''} />}
